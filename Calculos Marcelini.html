<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Técnico: Proceso de Soldadura FCAW | Fábrica Marcelini</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@700&family=Lato:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Lato', sans-serif;
            background-color: #f1f5f9;
        }
        h1, h2, h3, .stat-number {
            font-family: 'Roboto Condensed', sans-serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 320px;
        }
         .projection-chart-container {
            position: relative;
            height: 350px;
            max-height: 400px;
            width: 100%;
        }
    </style>
</head>
<body class="bg-slate-100 text-slate-800">

    <header class="bg-[#022c43] text-white text-center py-10 px-4 shadow-xl">
        <h1 class="text-4xl md:text-5xl font-bold tracking-tight">DASHBOARD TÉCNICO DE SOLDADURA</h1>
        <p class="mt-4 text-lg text-[#ffd700]">Análisis de Proceso para la Fabricación de Vigas de Carretón | Fábrica Marcelini</p>
    </header>

    <main class="max-w-7xl mx-auto p-4 md:p-8">

        <section id="input-data" class="mb-12">
            <div class="bg-white p-6 md:p-8 rounded-2xl shadow-lg border border-slate-200">
                <div class="flex items-center mb-4">
                    <div class="bg-sky-100 text-sky-700 p-3 rounded-full mr-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6V4m0 2a2 2 0 100 4v6m0-6a2 2 0 110-4m0 6a2 2 0 100 4m0 6v-2m0-2a2 2 0 100 4m0-4a2 2 0 110-4m-6-4v2m0-2a2 2 0 100 4V8m0 0a2 2 0 110-4m0 4a2 2 0 100 4m0 6v-2m6-4v2m0-2a2 2 0 100 4v-2m0-2a2 2 0 110-4m0 4a2 2 0 100 4m0 6v-2" /></svg>
                    </div>
                    <h2 class="text-2xl font-bold text-slate-800">Parámetros de Configuración</h2>
                </div>
                 <p class="text-slate-600 mb-6 text-sm">La precisión de cualquier análisis depende de la calidad de los datos de entrada. La siguiente tabla detalla los parámetros operativos y las especificaciones del consumible que sirven como base para todos los cálculos y gráficos presentados en este dashboard.</p>
                <div class="overflow-x-auto">
                    <table class="w-full text-left min-w-[600px]">
                        <thead class="border-b-2 border-slate-200">
                            <tr>
                                <th class="py-3 px-4 text-sm font-bold text-slate-500 uppercase">Parámetro</th>
                                <th class="py-3 px-4 text-sm font-bold text-slate-500 uppercase">Valor</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-slate-100">
                            <tr class="hover:bg-slate-50">
                                <td class="py-3 px-4 font-semibold text-slate-700">Consumible (Alambre)</td>
                                <td class="py-3 px-4 text-slate-600">ESAB Dual Shield 7100 (E71T-1C), 1.2 mm</td>
                            </tr>
                             <tr class="hover:bg-slate-50">
                                <td class="py-3 px-4 font-semibold text-slate-700">Parámetros Eléctricos</td>
                                <td class="py-3 px-4 text-slate-600">33.5 Voltios / 300 Amperes (DC+)</td>
                            </tr>
                            <tr class="hover:bg-slate-50">
                                <td class="py-3 px-4 font-semibold text-slate-700">Velocidad de Traslación</td>
                                <td class="py-3 px-4 text-slate-600">43 cm/minuto</td>
                            </tr>
                             <tr class="hover:bg-slate-50">
                                <td class="py-3 px-4 font-semibold text-slate-700">Tasa de Deposición</td>
                                <td class="py-3 px-4 text-slate-600">5.3 kg/hora</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <div class="lg:col-span-2 flex flex-col gap-8">
                <section id="kpis">
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                        <div class="bg-white p-6 rounded-2xl shadow-lg flex flex-col justify-between border border-slate-200">
                            <div class="flex items-center">
                                <div class="bg-blue-100 text-blue-700 p-4 rounded-full mr-5"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg></div>
                                <div>
                                    <p class="text-slate-500 font-semibold">Tiempo de Producción</p>
                                    <div class="stat-number text-4xl font-bold text-slate-800">27 Minutos</div>
                                </div>
                            </div>
                            <p class="text-xs text-slate-400 mt-3">Mide el tiempo de arco abierto total, clave para determinar la cadencia y capacidad productiva.</p>
                        </div>
                        <div class="bg-white p-6 rounded-2xl shadow-lg flex flex-col justify-between border border-slate-200">
                           <div class="flex items-center">
                               <div class="bg-amber-100 text-amber-700 p-4 rounded-full mr-5"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4" /></svg></div>
                                <div>
                                    <p class="text-slate-500 font-semibold">Alambre Consumido</p>
                                    <div class="stat-number text-4xl font-bold text-slate-800">5.68 kg</div>
                                </div>
                           </div>
                           <p class="text-xs text-slate-400 mt-3">Cifra fundamental para la gestión de inventario y el cálculo preciso de costos por unidad.</p>
                        </div>
                        <div class="bg-white p-6 rounded-2xl shadow-lg flex flex-col justify-between border border-slate-200">
                            <div class="flex items-center">
                                <div class="bg-slate-200 text-slate-600 p-4 rounded-full mr-5"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z" /></svg></div>
                                <div>
                                    <p class="text-slate-500 font-semibold">Gas (CO₂) Consumido</p>
                                    <div class="stat-number text-4xl font-bold text-slate-800">1.53 kg</div>
                                </div>
                            </div>
                            <p class="text-xs text-slate-400 mt-3">El gas CO₂ protege el baño de fusión de la contaminación atmosférica, asegurando una soldadura limpia.</p>
                        </div>
                        <div class="bg-white p-6 rounded-2xl shadow-lg flex flex-col justify-between border border-slate-200">
                             <div class="flex items-center">
                                 <div class="bg-red-100 text-red-700 p-4 rounded-full mr-5"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.657 7.343A8 8 0 0117.657 18.657z" /></svg></div>
                                <div>
                                    <p class="text-slate-500 font-semibold">Aporte Térmico</p>
                                    <div class="stat-number text-4xl font-bold text-slate-800">14.02 kJ/cm</div>
                                </div>
                             </div>
                             <p class="text-xs text-slate-400 mt-3">Controlar este valor es vital para no alterar las propiedades del acero en la Zona Afectada por el Calor (ZAC).</p>
                        </div>
                    </div>
                </section>

                <section id="quality">
                    <div class="bg-white p-6 md:p-8 rounded-2xl shadow-lg border border-slate-200">
                         <div class="flex items-center mb-4">
                            <div class="bg-green-100 text-green-700 p-3 rounded-full mr-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 20.955a11.955 11.955 0 0118-8.001c0-1.294-.28-2.527-.78-3.642z" /></svg></div>
                            <h2 class="text-2xl font-bold text-slate-800">Garantía de Calidad Mecánica</h2>
                        </div>
                        <p class="text-slate-600 mb-6 text-sm">Las siguientes gráficas detallan las propiedades certificadas del metal de soldadura depositado. Estos valores aseguran que la unión cumple con los requisitos de diseño para resistencia (Tensión) y tenacidad (Impacto), factores no negociables en estructuras sometidas a carga.</p>
                         <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                             <div>
                                <h3 class="text-lg font-bold text-center text-slate-600 mb-2">Análisis de Tensión (MPa)</h3>
                                <div class="chart-container">
                                    <canvas id="tensileChart"></canvas>
                                </div>
                            </div>
                            <div>
                                <h3 class="text-lg font-bold text-center text-slate-600 mb-2">Resistencia al Impacto (Joules)</h3>
                                <div class="chart-container">
                                    <canvas id="impactChart"></canvas>
                                </div>
                            </div>
                         </div>
                    </div>
                </section>
            </div>

            <div class="lg:col-span-1 flex flex-col gap-8">
                <section id="consumables">
                    <div class="bg-white p-6 md:p-8 rounded-2xl shadow-lg border border-slate-200 h-full">
                        <div class="flex items-center mb-4">
                            <div class="bg-purple-100 text-purple-700 p-3 rounded-full mr-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z" /><path stroke-linecap="round" stroke-linejoin="round" d="M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z" /></svg></div>
                            <h2 class="text-2xl font-bold text-slate-800">Análisis de Consumibles</h2>
                        </div>
                        <div class="chart-container">
                            <canvas id="consumablesChart"></canvas>
                        </div>
                         <p class="text-slate-600 mt-6 text-sm">El **alambre de aporte constituye el 79%** del peso total de consumibles. Del total de **5.68 kg** gastados, **4.83 kg** se depositan efectivamente (eficiencia del 85%), donde el fundente del alambre genera una escoria protectora.</p>
                    </div>
                </section>
                 <section id="process">
                    <div class="bg-white p-6 md:p-8 rounded-2xl shadow-lg border border-slate-200 h-full">
                         <div class="flex items-center mb-4">
                            <div class="bg-indigo-100 text-indigo-700 p-3 rounded-full mr-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M17 14v6m-3-3h6M6 10h2a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v2a2 2 0 002 2zm10 0h2a2 2 0 002-2V6a2 2 0 00-2-2h-2a2 2 0 00-2 2v2a2 2 0 002 2zM6 20h2a2 2 0 002-2v-2a2 2 0 00-2-2H6a2 2 0 00-2 2v2a2 2 0 002 2z" /></svg></div>
                            <h2 class="text-2xl font-bold text-slate-800">Proceso en Dos Fases</h2>
                        </div>
                        <div class="space-y-4 mt-4">
                           <div class="flex items-start">
                               <div class="bg-sky-500 text-white font-bold rounded-full h-8 w-8 flex items-center justify-center mr-4 mt-1">1</div>
                               <div>
                                   <h3 class="font-bold text-slate-700">FASE 1: Superior</h3>
                                   <p class="text-sm text-slate-500">53 cordones intermitentes ("Paso Peregrino") para controlar el aporte térmico en la zona curva y minimizar la distorsión de la estructura.</p>
                               </div>
                           </div>
                            <div class="flex items-start">
                               <div class="bg-amber-500 text-white font-bold rounded-full h-8 w-8 flex items-center justify-center mr-4 mt-1">2</div>
                               <div>
                                   <h3 class="font-bold text-slate-700">FASE 2: Inferior</h3>
                                   <p class="text-sm text-slate-500">2 cordones largos y continuos para máxima penetración e integridad estructural en la base, la zona de mayores esfuerzos de la viga.</p>
                               </div>
                           </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>

        <section id="projection" class="mt-8">
             <div class="bg-white p-6 md:p-8 rounded-2xl shadow-lg border border-slate-200">
                <div class="flex items-center mb-4">
                    <div class="bg-teal-100 text-teal-700 p-3 rounded-full mr-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" /></svg></div>
                    <h2 class="text-2xl font-bold text-slate-800">Proyección de Producción a Escala</h2>
                </div>
                 <p class="text-slate-600 mb-6 text-sm">Esta proyección lineal es una herramienta estratégica que permite al departamento de planificación estimar con precisión los requerimientos de material y las horas-hombre necesarias para cumplir con órdenes de producción de mayor volumen, optimizando la gestión de recursos y los plazos de entrega.</p>
                <div class="projection-chart-container">
                    <canvas id="projectionChart"></canvas>
                </div>
            </div>
        </section>

    </main>
    
    <footer class="bg-[#022c43] text-white text-center mt-16 py-6">
        <p class="text-[#ffd700] text-sm">Reporte Técnico Interactivo | &copy; 2025 Fábrica Marcelini</p>
    </footer>

    <script>
        const wrapLabel = (label, maxLength) => {
            if (label.length <= maxLength) {
                return label;
            }
            const words = label.split(' ');
            const lines = [];
            let currentLine = '';
            words.forEach(word => {
                if ((currentLine + word).length > maxLength) {
                    lines.push(currentLine.trim());
                    currentLine = '';
                }
                currentLine += word + ' ';
            });
            lines.push(currentLine.trim());
            return lines;
        };

        const tooltipTitleCallback = (tooltipItems) => {
            const item = tooltipItems[0];
            let label = item.chart.data.labels[item.dataIndex];
            if (Array.isArray(label)) {
              return label.join(' ');
            } else {
              return label;
            }
        };

        const chartDefaultOptions = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'bottom',
                    labels: {
                        font: {
                            family: "'Lato', sans-serif",
                            size: 14,
                        }
                    }
                },
                tooltip: {
                    callbacks: {
                        title: tooltipTitleCallback
                    }
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    ticks: {
                        font: {
                            family: "'Lato', sans-serif",
                        }
                    }
                },
                x: {
                    ticks: {
                        font: {
                            family: "'Lato', sans-serif",
                        }
                    }
                }
            }
        };

        document.addEventListener('DOMContentLoaded', () => {
            
            new Chart(document.getElementById('consumablesChart'), {
                type: 'doughnut',
                data: {
                    labels: ['Alambre Consumido (kg)', 'Gas CO₂ (kg)'],
                    datasets: [{
                        data: [5.68, 1.53],
                        backgroundColor: ['#d97706', '#64748b'],
                        borderColor: '#ffffff',
                        borderWidth: 4,
                        hoverOffset: 4
                    }]
                },
                options: { ...chartDefaultOptions, scales: {} }
            });
            
            new Chart(document.getElementById('tensileChart'), {
                type: 'bar',
                data: {
                    labels: ['Límite de Flujo', 'Resistencia a la Tracción'],
                    datasets: [{
                        label: 'Resistencia (MPa)',
                        data: [491, 563],
                        backgroundColor: ['#3b82f6', '#1e40af'],
                        borderRadius: 4,
                        barPercentage: 0.6
                    }]
                },
                options: { ...chartDefaultOptions, plugins: { ...chartDefaultOptions.plugins, legend: { display: false } } }
            });

            new Chart(document.getElementById('impactChart'), {
                type: 'bar',
                data: {
                    labels: ['Impacto a 0°C', 'Impacto a -20°C'],
                    datasets: [{
                        label: 'Energía Absorbida (Joules)',
                        data: [90, 58],
                        backgroundColor: ['#f59e0b', '#d97706'],
                        borderRadius: 4,
                        barPercentage: 0.6
                    }]
                },
                options: { ...chartDefaultOptions, plugins: { ...chartDefaultOptions.plugins, legend: { display: false } } }
            });

            const projectionLabels = Array.from({ length: 10 }, (_, i) => (i + 1) * 10);
            const projectionWireData = projectionLabels.map(v => v * 5.68);
            const projectionTimeData = projectionLabels.map(v => (v * 27.33) / 60);

            new Chart(document.getElementById('projectionChart'), {
                type: 'line',
                data: {
                    labels: projectionLabels.map(l => `${l} Vigas`),
                    datasets: [
                        {
                            label: 'Consumo Alambre (kg)',
                            data: projectionWireData,
                            borderColor: '#d97706',
                            backgroundColor: 'rgba(217, 119, 6, 0.1)',
                            fill: true,
                            tension: 0.4,
                            yAxisID: 'y'
                        },
                        {
                            label: 'Tiempo Producción (Horas)',
                            data: projectionTimeData,
                            borderColor: '#3b82f6',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            fill: true,
                            tension: 0.4,
                            yAxisID: 'y1'
                        }
                    ]
                },
                options: {
                    ...chartDefaultOptions,
                    scales: {
                        y: {
                            type: 'linear',
                            display: true,
                            position: 'left',
                            title: { display: true, text: 'Consumo de Alambre (kg)', color: '#d97706' }
                        },
                        y1: {
                            type: 'linear',
                            display: true,
                            position: 'right',
                            title: { display: true, text: 'Tiempo de Producción (Horas)', color: '#3b82f6' },
                            grid: { drawOnChartArea: false }
                        },
                        x: { ...chartDefaultOptions.scales.x }
                    }
                }
            });
        });
    </script>
</body>
</html>

